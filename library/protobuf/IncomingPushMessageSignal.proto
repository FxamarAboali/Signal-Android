package textsecure;

option java_package = "org.whispersystems.textsecure.push";
option java_outer_classname = "PushMessageProtos";

message IncomingPushMessageSignal {
  optional uint32 type = 1;
  optional string source = 2;
  repeated string destinations = 3;
  optional uint64 timestamp = 4;
  optional bytes message = 5; // Contains an encrypted IncomingPushMessageContent
}

message PushMessageContent {
  optional string body = 1;

  message AttachmentPointer {
    optional fixed64 id = 1;
    optional string contentType = 2;
    optional bytes key = 3;
  }

  repeated AttachmentPointer attachments = 2;
}